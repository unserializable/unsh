# Source this for fun and profit.

# Echoes arguments to stderr (>&2)
err_echo() {
	>&2 echo $@
}

# Returns whether string value ($1) among string values ($2..$n).
s_in_ss() {
	local value=$1; shift;
    local avalue
	for avalue ; do
		if [ "$avalue" = "$value" ]; then
			return 0
		fi
	done

	return 1
}

# Echoes directory name of currently running script (if any)
script_dir() {
	# relies of $0 being visible from inside the function!
	echo $(dirname $0)
}

# Echoes file name (no path) of currently running script (if any)
script_name() {
	# relies of $0 being visible from inside the function!
	echo $(basename $0)
}

# Finds the newest file system entry matching the pattern $1
# Samples:
#  :to unpack the newest "front*.zip" file to folder $FOLDER:
#  unzip -o $(find_newest "$SOMEDIR/front*.zip") -d $FOLDER"
find_newest() {
	echo $(ls -t1A $1 2>/dev/null | head -n 1)
}

# Returns 'u'random alphanumeric string of length $1 or 15.
rnd_alnum() {
	tr -cd "a-zA-Z0-9" < /dev/urandom | head -c${1-15}; echo
}

# Translates newlines from stdin to character $1.
tr_nl() {
	tr '\n' '$1'
}
