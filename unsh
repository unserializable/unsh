# Source this for fun and profit.

# echo : but to stderr
err_echo() {
	>&2 echo $@
}

# ? string value ($1) among string values ($2..$n)
s_in_ss() {
	local value=$1; shift;
	for avalue in $@; do
		if [ "$avalue" = "$value" ]; then
			return 0
		fi
	done

	return 1
}

# echoes directory name of currently running script (if any)
script_dir() {
	# relies of $0 being visible from inside the function!
	echo $(dirname $0)
}

# echoes file name (no path) of currently running script (if any)
script_name() {
	# relies of $0 being visible from inside the function!
	echo $(basename $0)
}

# Finds the newest file system entry matching the pattern $1
# Samples:
#  :to unpack the newest "front*.zip" file to folder $FOLDER:
#  unzip -o $(find_newest "$SOMEDIR/front*.zip") -d $FOLDER"
find_newest() {
	echo $(ls -t1A $1 2>/dev/null | head -n 1)
}

# Returns 'u'random alphanumeric string of length $1 or 15.
rnd_alnum() {
	if [ -z "$1" ]; then local l=15; else local l=$1; fi
	tr -cd "[:alnum:]" < /dev/urandom | head -c$l; echo
}
